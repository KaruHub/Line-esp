-- Load Orion Library
local OrionLib = loadstring(game:HttpGet('https://raw.githubusercontent.com/shlexware/Orion/main/source'))()

-- Creating the Window
local Window = OrionLib:MakeWindow({
    Name = "Bridge Teleporter & ESP",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionTest"
})

-- Player Tab
local PlayerTab = Window:MakeTab({
    Name = "Player",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Player Section
local PlayerSection = PlayerTab:AddSection({
    Name = "Player Settings"
})

-- WalkSpeed Slider
PlayerTab:AddSlider({
    Name = "WalkSpeed",
    Min = 16,
    Max = 1000,
    Default = 16,
    Increment = 1,
    Callback = function(Value)
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = Value
    end
})

-- JumpPower Slider
PlayerTab:AddSlider({
    Name = "JumpPower",
    Min = 50,
    Max = 1000,
    Default = 50,
    Increment = 1,
    Callback = function(Value)
        game.Players.LocalPlayer.Character.Humanoid.JumpPower = Value
    end
})

-- Camera Max Zoom Distance Slider
PlayerTab:AddSlider({
    Name = "Max Zoom Distance",
    Min = 10,
    Max = 50000,
    Default = 400,
    Increment = 50,
    Callback = function(Value)
        game.Players.LocalPlayer.CameraMaxZoomDistance = Value
    end
})

-- Teleport to Center Button
PlayerTab:AddButton({
    Name = "Teleport to Center",
    Callback = function()
        game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(-1040, 201, 90)
    end
})

-- ESP Toggle & Color Picker
local espEnabled = false
local espColor = Color3.fromRGB(255, 0, 0)

local function updateESP()
    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= game.Players.LocalPlayer and player.Character and player.Character:FindFirstChild("Head") then
            local head = player.Character.Head
            local billboard = head:FindFirstChild("BillboardGui")
            
            if espEnabled then
                if not billboard then
                    billboard = Instance.new("BillboardGui", head)
                    billboard.Size = UDim2.new(5, 0, 2, 0)
                    billboard.AlwaysOnTop = true
                    
                    local text = Instance.new("TextLabel", billboard)
                    text.Size = UDim2.new(1, 0, 1, 0)
                    text.Text = player.Name
                    text.TextColor3 = espColor
                    text.BackgroundTransparency = 1
                else
                    billboard.TextLabel.TextColor3 = espColor
                end
            else
                if billboard then
                    billboard:Destroy()
                end
            end
        end
    end
end

PlayerTab:AddToggle({
    Name = "Enable ESP",
    Default = false,
    Callback = function(State)
        espEnabled = State
        updateESP()
    end
})

PlayerTab:AddColorpicker({
    Name = "ESP Color",
    Default = Color3.fromRGB(255, 0, 0),
    Callback = function(Value)
        espColor = Value
        if espEnabled then
            updateESP()
        end
    end
})

-- Bridges Table
local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()

local bridges = {
    BlueBridge = game.Workspace:FindFirstChild("BlueBridge"),
    CyanBridge = game.Workspace:FindFirstChild("CyanBridge"),
    GreenBridge = game.Workspace:FindFirstChild("GreenBridge"),
    OrangeBridge = game.Workspace:FindFirstChild("OrangeBridge"),
    PinkBridge = game.Workspace:FindFirstChild("PinkBridge"),
    PurpleBridge = game.Workspace:FindFirstChild("PurpleBridge"),
    RedBridge = game.Workspace:FindFirstChild("RedBridge"),
    YellowBridge = game.Workspace:FindFirstChild("YellowBridge")
}

local function teleportToBridge(bridgeName)
    local bridge = bridges[bridgeName]
    if bridge and bridge.PrimaryPart then
        character:SetPrimaryPartCFrame(bridge.PrimaryPart.CFrame)
    else
        warn("Bridge not found or missing PrimaryPart: " .. tostring(bridgeName))
    end
end

-- Bridges Dropdown
PlayerTab:AddDropdown({
    Name = "Select a Bridge",
    Default = "BlueBridge",
    Options = {"BlueBridge", "CyanBridge", "GreenBridge", "OrangeBridge", "PinkBridge", "PurpleBridge", "RedBridge", "YellowBridge"},
    Callback = function(Value)
        teleportToBridge(Value)
    end
})

-- Others Tab
local OtherTab = Window:MakeTab({
    Name = "Others",
    Icon = "rbxassetid://4483345998",
    PremiumOnly = false
})

-- Infinite Yield Button
OtherTab:AddButton({
    Name = "Infinite Yield",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
    end
})

-- Dex Explorer Button
OtherTab:AddButton({
    Name = "Dex Explorer",
    Callback = function()
        loadstring(game:HttpGet("https://rawscripts.net/raw/Universal-Script-Keyless-mobile-dex-17888"))()
    end
})

-- SimpleSpy Button
OtherTab:AddButton({
    Name = "SimpleSpy",
    Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/78n/SimpleSpy/main/SimpleSpySource.lua"))()
    end
})

-- Initialize Orion Library
OrionLib:Init()
